{"generator":"Code Snippets v3.6.8","date_created":"2025-06-13 05:51","snippets":[{"id":5,"name":"product variation on archive pages below title","code":"\nadd_action( 'woocommerce_shop_loop_item_title', 'show_product_variations_below_title', 11 );\n\nfunction show_product_variations_below_title() {\n    global $product;\n\n    if ( $product->is_type( 'variable' ) ) {\n        $available_variations = $product->get_available_variations();\n        $attributes_display = [];\n\n        foreach ( $available_variations as $variation ) {\n            foreach ( $variation['attributes'] as $attr_slug => $term_slug ) {\n                if ( ! empty( $term_slug ) ) {\n                    $taxonomy = str_replace( 'attribute_', '', $attr_slug );\n                    $term = get_term_by( 'slug', $term_slug, $taxonomy );\n                    if ( $term && ! in_array( $term->name, $attributes_display ) ) {\n                        $attributes_display[] = $term->name;\n                    }\n                }\n            }\n        }\n\n        \/\/ Sort alphabetically\n        sort( $attributes_display, SORT_NATURAL | SORT_FLAG_CASE );\n\n        if ( ! empty( $attributes_display ) ) {\n            echo '<div class=\"product-variations\" style=\"font-size: 10px; margin-top: 5px;\">' . implode( ', ', $attributes_display ) . '<\/div>';\n        }\n    }\n}\n\/\/\/\/BACKUP BELOW\n\/\/ add_action( 'woocommerce_shop_loop_item_title', 'show_product_variations_below_title', 11 );\n\n\/\/ function show_product_variations_below_title() {\n\/\/     global $product;\n\n\/\/     if ( $product->is_type( 'variable' ) ) {\n\/\/         $available_variations = $product->get_available_variations();\n\/\/         $variations_output   = '';\n\n\/\/         foreach ( $available_variations as $variation ) {\n\/\/             \/\/ Skip any variation that is out of stock\n\/\/             if ( isset( $variation['is_in_stock'] ) && ! $variation['is_in_stock'] ) {\n\/\/                 continue;\n\/\/             }\n\n\/\/             $variation_attributes = $variation['attributes'];\n\n\/\/             foreach ( $variation_attributes as $attribute_value ) {\n\/\/                 if ( ! empty( $attribute_value ) ) {\n\/\/                     $variations_output .= esc_html( $attribute_value ) . ', ';\n\/\/                 }\n\/\/             }\n\/\/         }\n\n\/\/         \/\/ Remove the trailing comma + space, if any\n\/\/         $variations_output = rtrim( $variations_output, ', ' );\n\n\/\/         if ( ! empty( $variations_output ) ) {\n\/\/             echo '<div class=\"product-variations\" style=\"font-size:10px; margin-top:5px;\">' \n\/\/                  . $variations_output . \n\/\/                  '<\/div>';\n\/\/         }\n\/\/     }\n\/\/ }\n","tags":["php"],"active":true,"modified":"2025-06-10 12:08:53","revision":"19"}]}