{"generator":"Code Snippets v3.6.8","date_created":"2025-06-13 05:53","snippets":[{"id":55,"name":"wpseo_canonical","code":"add_filter('wpseo_canonical', 'custom_yoast_canonical_for_pagination', 20);\n\nfunction custom_yoast_canonical_for_pagination($canonical) {\n    if (isset($_GET['_page']) && intval($_GET['_page']) > 1) {\n        \/\/ Remove any existing _page query param to avoid duplication\n        $canonical = remove_query_arg('_page', $canonical);\n        \/\/ Add the current _page param\n        $canonical = add_query_arg('_page', intval($_GET['_page']), $canonical);\n    }\n    return $canonical;\n}\n\n\t\n\t\n\t\n\n\/\/ Add custom rel=\"next\" and rel=\"prev\" links\nadd_action('wp_head', 'custom_rel_next_prev_links', 1);\n\nfunction custom_rel_next_prev_links() {\n    if (isset($_GET['_page'])) {\n        global $wp_query;\n\n        $current_page = intval($_GET['_page']);\n        $base_url = remove_query_arg('_page');\n        $total_pages = $wp_query->max_num_pages; \/\/ Total pages available for the query\n\n        \/\/ Generate the \"next\" link only if there's a next page\n        if ($current_page < $total_pages) {\n            $next_page = $current_page + 1;\n            echo '<link rel=\"next\" href=\"' . esc_url(add_query_arg('_page', $next_page, $base_url)) . '\" \/>' . \"\\n\";\n        }\n\n        \/\/ Generate the \"prev\" link only if there's a previous page\n        if ($current_page > 1) {\n            $prev_page = $current_page - 1;\n            echo '<link rel=\"prev\" href=\"' . esc_url(add_query_arg('_page', $prev_page, $base_url)) . '\" \/>' . \"\\n\";\n        }\n    }\n}\n\/\/ Disable Yoast SEO next\/prev rel links\nadd_filter('wpseo_next_rel_link', '__return_false');\nadd_filter('wpseo_prev_rel_link', '__return_false');\n\n\/\/ Remove default WooCommerce pagination\nremove_action( 'woocommerce_after_shop_loop', 'woocommerce_pagination', 10 );","active":true,"modified":"2025-05-26 12:34:16","revision":"10"}]}