{"generator":"Code Snippets v3.6.8","date_created":"2025-06-13 05:52","snippets":[{"id":39,"name":"account tabs","code":"\n\/\/ Reorder My Account menu and add Wishlist and Betaling og faktura\nadd_filter( 'woocommerce_account_menu_items', 'custom_my_account_menu_order' );\nfunction custom_my_account_menu_order( $items ) {\n    $new_order = array(\n        'dashboard'       => __( 'Dashboard', 'woocommerce' ),\n\/\/         'wishlist'        => __( '\u00d8nskeliste', 'woocommerce' ),\n        'orders'          => __( 'Orders', 'woocommerce' ),\n        'betaling-faktura' => __( 'Betaling og faktura', 'woocommerce' ),\n        'edit-address'    => __( 'Addresses', 'woocommerce' ),\n        'edit-account'    => __( 'Account Details', 'woocommerce' ),\n        'customer-logout' => __( 'Logout', 'woocommerce' ),\n    );\n    return $new_order;\n}\n\n\/\/ Register the Wishlist endpoint\nadd_action( 'init', 'custom_add_wishlist_endpoint' );\nfunction custom_add_wishlist_endpoint() {\n    add_rewrite_endpoint( 'wishlist', EP_ROOT | EP_PAGES );\n}\n\n\/\/ Register the Betaling og faktura endpoint\nadd_action( 'init', 'custom_add_betaling_faktura_endpoint' );\nfunction custom_add_betaling_faktura_endpoint() {\n    add_rewrite_endpoint( 'betaling-faktura', EP_ROOT | EP_PAGES );\n}\n\n\/\/ Recognize Wishlist endpoint\nadd_filter( 'woocommerce_get_query_vars', 'custom_wishlist_query_var' );\nfunction custom_wishlist_query_var( $vars ) {\n    $vars['wishlist'] = 'wishlist';\n    return $vars;\n}\n\n\/\/ Recognize Betaling og faktura endpoint\nadd_filter( 'woocommerce_get_query_vars', 'custom_betaling_faktura_query_var' );\nfunction custom_betaling_faktura_query_var( $vars ) {\n    $vars['betaling-faktura'] = 'betaling-faktura';\n    return $vars;\n}\n\n\/\/ Treat endpoints like account tabs\nadd_filter( 'woocommerce_account_endpoint_type', 'custom_endpoint_type', 10, 2 );\nfunction custom_endpoint_type( $type, $endpoint ) {\n    if ( in_array( $endpoint, ['wishlist', 'betaling-faktura'] ) ) {\n        return 'page';\n    }\n    return $type;\n}\n\n\/\/ Show Wishlist content\nadd_action( 'woocommerce_account_wishlist_endpoint', 'custom_wishlist_content' );\nfunction custom_wishlist_content() {\n    echo do_shortcode( '[yith_wcwl_wishlist]' );\n}\n\n\/\/ Show Betaling og faktura content\nadd_action( 'woocommerce_account_betaling-faktura_endpoint', 'custom_betaling_faktura_content' );\nfunction custom_betaling_faktura_content() {\n    ?>\n    <div id=\"pay-frame\"><\/div>\n    <script>\n      (function (e, t, n, a, o, i) {\n        e[a] =\n          e[a] ||\n          function () {\n            (e[a].q = e[a].q || []).push(arguments);\n          };\n        i = t.createElement(n);\n        i.async = 1;\n        i.type = 'module';\n        i.src = o + '?ts=' + Date.now();\n        t.body.prepend(i);\n      })(\n        window,\n        document,\n        'script',\n        'avardaPayFrameInit',\n        'https:\/\/pay-frame.avarda.com\/cdn\/pay-frame.js'\n      );\n      window.avardaPayFrameInit({\n        rootNode: document.getElementById('pay-frame'),\n        siteKey: '729a2000-ec1c-4caa-9231-0348ffad4a99',\n        language: 'no',\n      });\n\t\t\n\t\t\/\/ Dynamically change language after loading\n    setTimeout(() => {\n      if (window.avardaPayFrameInstance?.changeLanguage) {\n        window.avardaPayFrameInstance.changeLanguage('no');\n      }\n    }, 2000);\n    <\/script>\n    <?php\n}\n\n\/\/ Load Dashicons (for front-end)\nadd_action( 'wp_enqueue_scripts', function() {\n    wp_enqueue_style( 'dashicons' );\n});\n\n\/\/ Style the Wishlist and Betaling og faktura menu items with icons\nadd_action( 'wp_head', 'custom_account_menu_icon_style' );\nfunction custom_account_menu_icon_style() {\n    ?>\n    <style>\n        .woocommerce-MyAccount-navigation-link--wishlist a::before {\n            font-family: 'Dashicons';\n            content: '\\f487';\n            margin-right: 8px;\n            vertical-align: middle;\n            font-size: 16px;\n            color: #000;\n        }\n        .woocommerce-MyAccount-navigation-link--betaling-faktura a::before {\n            font-family: 'Dashicons';\n            content: '\\f508'; \/* Icon for money\/credit card *\/\n            margin-right: 8px;\n            vertical-align: middle;\n            font-size: 16px;\n            color: #000;\n        }\n    <\/style>\n    <?php\n}\n","active":true,"modified":"2025-06-10 10:21:45","revision":"90"}]}