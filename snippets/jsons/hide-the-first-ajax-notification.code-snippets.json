{"generator":"Code Snippets v3.6.8","date_created":"2025-06-13 05:52","snippets":[{"id":35,"name":"hide the first ajax notification","code":"\/**\n * Hide only the AJAX\u2010injected Notiny popup (the \u201cAdding\u2026\u201d drawer),\n * but allow the normal \u201cProduct added to cart\u201d notification on page reload.\n *\/\nfunction hide_ajax_notiny_via_mousedown() {\n    ?>\n    <style>\n        \/* While <body> has .wooac-hide-ajax, any Notiny popup is hidden. *\/\n        body.wooac-hide-ajax .notiny-container {\n            display: none !important;\n        }\n    <\/style>\n\n    <script>\n    (function() {\n        \/\/ As soon as the user presses down on an Add-to-Cart button,\n        \/\/ add a class so the AJAX popup is never visible.\n        function addHideClass() {\n            document.body.classList.add('wooac-hide-ajax');\n        }\n\n        \/\/ We listen for mousedown (fires before click), to beat WooAC\u2019s JS.\n        document.addEventListener('mousedown', function(e) {\n            \/\/ Common Add-to-Cart selectors:\n            \/\/   - .single_add_to_cart_button  (simple\/variable product page)\n            \/\/   - .add_to_cart_button         (shop\/archive \u201cAdd to cart\u201d links)\n            \/\/   - .woocommerce-variation-add-to-cart .single_add_to_cart_button\n            \/\/     (in case your theme wraps variation button differently)\n            if (\n                e.target.matches('.single_add_to_cart_button') ||\n                e.target.matches('.add_to_cart_button') ||\n                e.target.closest('.woocommerce-variation-add-to-cart .single_add_to_cart_button')\n            ) {\n                addHideClass();\n            }\n        }, true);\n\n        \/\/ As a fallback, also listen for click (in case some themes trigger AJAX on click without a mousedown).\n        document.addEventListener('click', function(e) {\n            if (\n                e.target.matches('.single_add_to_cart_button') ||\n                e.target.matches('.add_to_cart_button') ||\n                e.target.closest('.woocommerce-variation-add-to-cart .single_add_to_cart_button')\n            ) {\n                addHideClass();\n            }\n        }, true);\n    })();\n    <\/script>\n    <?php\n}\nadd_action('wp_head', 'hide_ajax_notiny_via_mousedown', 1);\n","active":true,"modified":"2025-06-03 12:30:36","revision":"115"}]}